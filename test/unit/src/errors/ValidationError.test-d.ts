/*
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆâ–ˆ******************** PRESENTED BY t33n Software ***************************â–ˆâ–ˆ
â–ˆâ–ˆ                                                                           â–ˆâ–ˆ
â–ˆâ–ˆ                  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—                      â–ˆâ–ˆ
â–ˆâ–ˆ                  â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â•šâ•â•â•â•â–ˆâ–ˆâ•—â•šâ•â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘                      â–ˆâ–ˆ
â–ˆâ–ˆ                     â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘                      â–ˆâ–ˆ
â–ˆâ–ˆ                     â–ˆâ–ˆâ•‘    â•šâ•â•â•â–ˆâ–ˆâ•— â•šâ•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘                      â–ˆâ–ˆ
â–ˆâ–ˆ                     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘                      â–ˆâ–ˆ
â–ˆâ–ˆ                     â•šâ•â•   â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â•                      â–ˆâ–ˆ
â–ˆâ–ˆ                                                                           â–ˆâ–ˆ
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
*/

import { describe, it, expectTypeOf } from 'vitest'
import { StatusCodes } from 'http-status-codes'
import { ErrorType } from '@/src/index'
import {
    default as ValidationError,
    type IValidationError
} from '@/src/errors/ValidationError'
import type { ICoreError } from '@/src/errors/CoreError'

/**
 * ðŸ§ª Test suite for ValidationError class.
 * @description This suite tests the type definitions and functionality of the ValidationError class.
 */
describe('[TYPE TEST] - src/errors/ValidationError.ts', () => {
    /**
   * ðŸ”§ Set up test variables.
   */
    const errorMsg = 'test'
    const errorMsgOrig = 'test original'
    const errorData = { test: 'test' }
    const error = new Error(errorMsgOrig)

  /**
   * ðŸ“ Define a test interface to detect future changes.
   * @description This interface extends ICoreError and defines specific properties for ValidationError.
   */
  interface IValidationError_Test extends ICoreError {
    name: ErrorType.VALIDATION
    httpStatus: StatusCodes.BAD_REQUEST
  }

  /**
   * ðŸ§¬ Test suite for interfaces.
   * @description Verifies the structure of the IValidationError interface.
   */
  describe('[INTERFACES]', () => {
      /**
     * âœ… Test case: Verify IValidationError interface types.
     * @description Ensures that IValidationError matches the expected structure.
     */
      it('should verify IValidationError interface types', () => {
          expectTypeOf<IValidationError>().toEqualTypeOf<IValidationError_Test>()
      })
  })

  /**
   * ðŸ—ï¸ Test suite for ValidationError class.
   * @description Tests the constructor and instance types of ValidationError.
   */
  describe('[CLASS]', () => {
      /**
     * ðŸ› ï¸ Test suite for constructor.
     * @description Verifies the constructor's parameter handling.
     */
      describe('[CONSTRUCTOR]', () => {
          /**
         * âœ… Test case: Verify constructor parameter types.
         * @description Ensures that the constructor accepts the correct parameter types.
         */
          it('should correctly handle constructor parameters types', () => {
              expectTypeOf(ValidationError).toBeConstructibleWith(errorMsg, errorData)
              expectTypeOf(ValidationError).toBeConstructibleWith(errorMsg, errorData, error)
          })
      })

      /**
     * ðŸ“Š Test suite for instance types.
     * @description Verifies the types of ValidationError instances.
     */
      describe('[INSTANCE]', () => {
          /**
         * âœ… Test case: Verify instance type without error.
         * @description Ensures that the instance type is correct when created without an error.
         */
          it('should verify instance type without error', () => {
              const validationError: IValidationError = new ValidationError(errorMsg, errorData)
              expectTypeOf(validationError).toEqualTypeOf<IValidationError_Test>()
          })

          /**
         * âœ… Test case: Verify instance type with error.
         * @description Ensures that the instance type is correct when created with an error.
         */
          it('should verify instance type with error', () => {
              const validationError: IValidationError = new ValidationError(
                  errorMsg, errorData, error
              )
              expectTypeOf(validationError).toEqualTypeOf<IValidationError_Test>()
          })
      })
  })
})